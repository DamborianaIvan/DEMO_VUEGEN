define(function(){var e=function(){var e,n=kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl.formID;if(n)e=n.split("?")[0];else{var t=kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl.deeplinkpath;e=t.slice(t.indexOf("kdw")+5)}return e},n=function(e){var n,t,i=null,r=kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl.formID;if(r&&(t=!1,(n=r)&&(t=n.indexOf("?")>=0),t)){var a=r.split("?")[1];if(a){var o=a.split("=");i=o[0]===e?o[1]:null}}return i};return{deeplinking:function(){var t=n("session_token");kony.mvc.MDAApplication.getSharedInstance().appContext.isCSR_Assist_Mode=!!t;var i=e(),r=kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl.isNewSession;if(r&&(kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl.isNewSession=!1),""!==i&&("frmLogin"!==i||r))switch(i){case"frmEnrollNow":if("true"===applicationManager.getConfigurationManager().isAppRefreshed)return;var a=kony.mvc.MDAApplication.getSharedInstance().getModuleManager().getModule("EnrollModule"),o={identifier:n("qp")};return kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl={formID:"frmLogin"},void a.presentationController.showEnrollPage(o);case"frmResetPassword":if("true"===applicationManager.getConfigurationManager().isAppRefreshed)return;var p=kony.mvc.MDAApplication.getSharedInstance().getModuleManager().getModule("AuthModule");return o={identifier:n("qp")},kony.mvc.MDAApplication.getSharedInstance().appContext.deeplinkUrl={formID:"frmLogin"},void p.presentationController.showResetPasswordPageThroughLink(o);default:return t}}}});